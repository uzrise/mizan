'use client';

import { useState, memo } from 'react';
import { useTranslation } from '@/contexts/TranslationContext';

// Memoized Icon components to prevent unnecessary re-renders
// Icon 1 - Innovation (triangular shapes)
const Icon1 = memo(({ color = '#02352D' }) => (
  <svg width="200" height="200" viewBox="0 0 223 239" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18.646 111.514C17.106 105.766 22.3775 100.513 28.1198 102.072L104.381 122.788C107.031 123.508 109.099 125.584 109.81 128.237L129.678 202.387C131.208 208.096 126.012 213.335 120.29 211.851L44.2988 192.14C41.6096 191.443 39.5029 189.353 38.7838 186.669L18.646 111.514Z" stroke={color} strokeWidth="2"/>
    <path d="M187.383 65.8858C185.841 60.1317 178.637 58.2221 174.447 62.4568L118.807 118.699C116.879 120.648 116.131 123.473 116.84 126.121L136.814 200.666C138.346 206.382 145.477 208.317 149.687 204.158L205.598 148.927C207.571 146.978 208.346 144.12 207.628 141.441L187.383 65.8858Z" stroke={color} strokeWidth="2"/>
    <path d="M27.02 82.112C22.8098 86.3227 24.7552 93.5135 30.5141 95.0277L107.103 115.165C109.756 115.863 112.58 115.099 114.52 113.159L169.063 58.6158C173.246 54.433 171.358 47.2927 165.655 45.7229L89.8054 24.8453C87.1302 24.109 84.2656 24.8665 82.3035 26.8285L27.02 82.112Z" stroke={color} strokeWidth="2"/>
  </svg>
));
Icon1.displayName = 'Icon1';

// Icon 2 - Quality (hexagonal pattern)
const Icon2 = memo(({ color = '#02352D' }) => (
  <svg width="200" height="200" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M116.304 90.752V108.12L99.7236 117.438L83.1445 108.12V90.752L99.7236 81.4336L116.304 90.752Z" stroke={color} strokeWidth="2.5"/>
    <path d="M134.911 80.3291V120.039L99.4873 140.099L64.543 120.045V80.3252L99.4873 59.9053L134.911 80.3291Z" stroke={color} strokeWidth="2.5"/>
    <path d="M151.509 70.5928V128.112L99.7227 157.029L47.9375 128.112V70.5928L99.7227 41.4336L151.509 70.5928Z" stroke={color} strokeWidth="2.5"/>
    <path d="M64.0664 79.957L47.7873 70.6048" stroke={color} strokeWidth="2.5"/>
    <path d="M135.312 80L152.047 70.3862" stroke={color} strokeWidth="2.5"/>
    <path d="M99.7266 140.413L99.7266 157.206" stroke={color} strokeWidth="2.5"/>
    <path d="M99.7266 177.692L99.7266 198.462" stroke={color} strokeWidth="2.5"/>
    <path d="M167.945 61.2529L185.775 51.01" stroke={color} strokeWidth="2.5"/>
    <path d="M31.5078 61.2539L13.6784 51.011" stroke={color} strokeWidth="2.5"/>
    <path d="M167.626 61.498V138.503L99.7275 177.024L31.8301 138.503V61.498L99.7275 22.9756L167.626 61.498Z" stroke={color} strokeWidth="2.5"/>
    <path d="M185.08 51.167V149.277L99.7275 198.556L14.375 149.277V51.167L99.7275 1.44629L185.08 51.167Z" stroke={color} strokeWidth="2.5"/>
  </svg>
));
Icon2.displayName = 'Icon2';

// Icon 3 - Sustainability (hexagonal pattern - same as Icon2)
const Icon3 = memo(({ color = '#02352D' }) => (<svg width="200" height="200" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M94.0273 11.458C99.1098 11.458 104.019 13.8319 108.559 18.2627C113.102 22.6974 117.233 29.1551 120.719 37.2002C127.69 53.2879 132.022 75.5714 132.022 100.229C132.022 124.886 127.69 147.169 120.719 163.257C117.233 171.302 113.102 177.76 108.559 182.194C104.019 186.625 99.1098 188.999 94.0273 188.999C88.9449 188.999 84.0356 186.625 79.4961 182.194C74.9527 177.76 70.8222 171.302 67.3359 163.257C60.3646 147.169 56.0322 124.886 56.0322 100.229C56.0322 75.5714 60.3646 53.2879 67.3359 37.2002C70.8222 29.1551 74.9527 22.6974 79.4961 18.2627C84.0356 13.8319 88.9449 11.458 94.0273 11.458Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M100 11.458C105.082 11.458 109.992 13.8319 114.531 18.2627C119.075 22.6974 123.205 29.1551 126.691 37.2002C133.663 53.2879 137.995 75.5714 137.995 100.229C137.995 124.886 133.663 147.169 126.691 163.257C123.205 171.302 119.075 177.76 114.531 182.194C109.992 186.625 105.082 188.999 100 188.999C94.9176 188.999 90.0083 186.625 85.4688 182.194C80.9254 177.76 76.7948 171.302 73.3086 163.257C66.3373 147.169 62.0049 124.886 62.0049 100.229C62.0049 75.5714 66.3373 53.2879 73.3086 37.2002C76.7948 29.1551 80.9254 22.6974 85.4688 18.2627C90.0083 13.8319 94.9176 11.458 100 11.458Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M105.977 11.458C111.059 11.458 115.968 13.8319 120.508 18.2627C125.051 22.6974 129.182 29.1551 132.668 37.2002C139.639 53.2879 143.972 75.5714 143.972 100.229C143.972 124.886 139.639 147.169 132.668 163.257C129.182 171.302 125.051 177.76 120.508 182.194C115.968 186.625 111.059 188.999 105.977 188.999C100.894 188.999 95.9848 186.625 91.4453 182.194C86.9019 177.76 82.7714 171.302 79.2852 163.257C72.3138 147.169 67.9814 124.886 67.9814 100.229C67.9814 75.5714 72.3138 53.2879 79.2852 37.2002C82.7714 29.1551 86.9019 22.6974 91.4453 18.2627C95.9848 13.8319 100.894 11.458 105.977 11.458Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M20.1316 61.0169C22.6728 56.6154 27.1833 53.5508 33.2902 51.8348C39.4024 50.1175 47.0603 49.7692 55.7707 50.7726C73.1886 52.7791 94.653 60.1689 116.007 72.4974C137.36 84.826 154.492 99.7197 164.939 113.801C170.163 120.843 173.69 127.649 175.259 133.801C176.827 139.947 176.428 145.386 173.887 149.787C171.345 154.189 166.835 157.254 160.728 158.97C154.616 160.687 146.958 161.035 138.247 160.032C120.83 158.025 99.3652 150.635 78.0115 138.307C56.6578 125.978 39.5259 111.085 29.0792 97.0035C23.8551 89.9617 20.3278 83.1557 18.759 77.0037C17.1915 70.8569 17.5904 65.4184 20.1316 61.0169Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M23.1237 55.8431C25.665 51.4416 30.1755 48.377 36.2824 46.661C42.3946 44.9437 50.0525 44.5954 58.7628 45.5988C76.1808 47.6052 97.6451 54.9951 118.999 67.3236C140.352 79.6522 157.484 94.5459 167.931 108.627C173.155 115.669 176.683 122.475 178.251 128.627C179.819 134.774 179.42 140.212 176.879 144.614C174.338 149.015 169.827 152.08 163.72 153.796C157.608 155.513 149.95 155.861 141.24 154.858C123.822 152.851 102.357 145.462 81.0037 133.133C59.65 120.805 42.5181 105.911 32.0714 91.8296C26.8473 84.7879 23.32 77.9819 21.7512 71.8299C20.1837 65.6831 20.5826 60.2446 23.1237 55.8431Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M26.1081 50.6702C28.6493 46.2687 33.1598 43.2041 39.2668 41.4882C45.379 39.7708 53.0369 39.4225 61.7472 40.4259C79.1652 42.4324 100.63 49.8222 121.983 62.1508C143.337 74.4793 160.469 89.373 170.915 103.454C176.14 110.496 179.667 117.302 181.236 123.454C182.803 129.601 182.404 135.039 179.863 139.441C177.322 143.842 172.811 146.907 166.704 148.623C160.592 150.34 152.934 150.688 144.224 149.685C126.806 147.679 105.342 140.289 83.9881 127.96C62.6344 115.632 45.5025 100.738 35.0558 86.6568C29.8317 79.6151 26.3044 72.8091 24.7355 66.657C23.1681 60.5103 23.5669 55.0718 26.1081 50.6702Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M179.865 61.0169C177.323 56.6154 172.813 53.5508 166.706 51.8348C160.594 50.1175 152.936 49.7692 144.225 50.7726C126.807 52.7791 105.343 60.1689 83.9895 72.4974C62.6358 84.826 45.5039 99.7197 35.0572 113.801C29.8331 120.843 26.3058 127.649 24.7369 133.801C23.1695 139.947 23.5683 145.386 26.1095 149.787C28.6507 154.189 33.1612 157.254 39.2682 158.97C45.3804 160.687 53.0382 161.035 61.7486 160.032C79.1666 158.025 100.631 150.635 121.985 138.307C143.338 125.978 160.47 111.085 170.917 97.0035C176.141 89.9617 179.668 83.1557 181.237 77.0037C182.805 70.8569 182.406 65.4184 179.865 61.0169Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M176.872 55.8431C174.331 51.4416 169.821 48.377 163.714 46.661C157.601 44.9437 149.944 44.5954 141.233 45.5988C123.815 47.6052 102.351 54.9951 80.9973 67.3236C59.6436 79.6522 42.5117 94.5459 32.065 108.627C26.8409 115.669 23.3136 122.475 21.7447 128.627C20.1773 134.774 20.5761 140.212 23.1173 144.614C25.6585 149.015 30.169 152.08 36.276 153.796C42.3882 155.513 50.046 155.861 58.7564 154.858C76.1744 152.851 97.6387 145.462 118.992 133.133C140.346 120.805 157.478 105.911 167.925 91.8296C173.149 84.7879 176.676 77.9819 178.245 71.8299C179.812 65.6831 179.414 60.2446 176.872 55.8431Z" stroke={color} strokeWidth="1.66667"/>
    <path d="M173.888 50.6702C171.347 46.2687 166.836 43.2041 160.729 41.4882C154.617 39.7708 146.959 39.4225 138.249 40.4259C120.831 42.4324 99.3666 49.8222 78.0129 62.1508C56.6592 74.4793 39.5273 89.373 29.0806 103.454C23.8565 110.496 20.3292 117.302 18.7603 123.454C17.1929 129.601 17.5917 135.039 20.1329 139.441C22.6742 143.842 27.1846 146.907 33.2916 148.623C39.4038 150.34 47.0617 150.688 55.772 149.685C73.19 147.679 94.6543 140.289 116.008 127.96C137.362 115.632 154.494 100.738 164.94 86.6568C170.164 79.6151 173.692 72.8091 175.261 66.657C176.828 60.5103 176.429 55.0718 173.888 50.6702Z" stroke={color} strokeWidth="1.66667"/>
  </svg>
));
Icon3.displayName = 'Icon3';

// Icon 4 - Client Focus (globe pattern)
const Icon4 = memo(({ color = '#02352D' }) => (
  <svg width="200" height="200" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M50 100L68 100L68 200L70 200L70 100L78 100L78 200L80 200L80 100L88 100L88 200L90 200L90 100L98 100L98 200L100 200L100 100L200 100L200 98L100 98L100 90L200 90L200 88L100 88L100 80L200 80L200 78L100 78L100 70L200 70L200 68L100 68L100 50C100 22.3858 77.6143 4.55949e-06 50 2.14538e-06C22.3858 -2.68739e-07 3.07863e-05 22.3858 2.83722e-05 50C2.59581e-05 77.6142 22.3858 100 50 100ZM90 90L98 90L98 98L90 98L90 90ZM88 90L80 90L80 98L88 98L88 90ZM78 90L70 90L70 98L78 98L78 90ZM68 90L68 98L50 98C23.4904 98 2.00004 76.5097 2.00004 50C2.00005 23.4903 23.4904 2.00002 50 2.00002C76.5097 2.00002 98 23.4903 98 50L98 68L90 68L90 50C90 27.9086 72.0914 10 50 10C27.9087 10 10 27.9086 10 50C10 72.0914 27.9087 90 50 90L68 90ZM90 70L98 70L98 78L90 78L90 70ZM88 68L88 50C88 29.0132 70.9868 12 50 12C29.0132 12 12 29.0132 12 50C12 70.9868 29.0132 88 50 88L68 88L68 80L50 80C33.4315 80 20 66.5686 20 50C20 33.4315 33.4315 20 50 20C66.5686 20 80 33.4315 80 50L80 68L88 68ZM78 80L70 80L70 88L78 88L78 80ZM80 88L80 80L88 80L88 88L80 88ZM80 78L80 70L88 70L88 78L80 78ZM78 50L78 68L70 68L70 50C70 38.9543 61.0457 30 50 30C38.9543 30 30 38.9543 30 50C30 61.0457 38.9543 70 50 70L68 70L68 78L50 78C34.5361 78 22 65.464 22 50C22 34.536 34.5361 22 50 22C65.464 22 78 34.536 78 50ZM68 50C68 40.0589 59.9412 32 50 32C40.0589 32 32 40.0589 32 50C32 59.9411 40.0589 68 50 68L68 68L68 50ZM70 70L70 78L78 78L78 70L70 70ZM90 80L98 80L98 88L90 88L90 80Z" fill={color}/>
</svg>
));
Icon4.displayName = 'Icon4';

// Map of icons by card id
const iconComponents = {
  1: Icon1,
  2: Icon2,
  3: Icon3,
  4: Icon4,
};

export default function TeamSection() {
  const { t } = useTranslation();
  const [activeCard, setActiveCard] = useState(1);

  const values = [
    {
      id: 1,
      titleKey: 'about.team.values.innovation.title',
      descriptionKey: 'about.team.values.innovation.description',
      rotateDeg: 180,
    },
    {
      id: 2,
      titleKey: 'about.team.values.quality.title',
      descriptionKey: 'about.team.values.quality.description',
      rotateDeg: 60,
    },
    {
      id: 3,
      titleKey: 'about.team.values.sustainability.title',
      descriptionKey: 'about.team.values.sustainability.description',
      rotateDeg: 180,
    },
    {
      id: 4,
      titleKey: 'about.team.values.clientFocus.title',
      descriptionKey: 'about.team.values.clientFocus.description',
      rotateDeg: 90,
    },
  ];

  return (
    <section 
      className="relative w-full py-16 md:py-24 overflow-hidden"
      style={{
        backgroundImage: 'url(/images/bg-about-team.png)',
        backgroundSize: 'cover',
        backgroundPosition: 'center',
        backgroundRepeat: 'no-repeat',
      }}
    >
      <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        {/* Glass Card Wrapper - removed expensive backdrop-filter */}
        <div 
          className="mx-auto p-8 md:p-12"
          style={{
            background: 'rgba(255, 246, 0, 0.12)',
            border: '1px solid #F3F3F3',
          }}
        >
          <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            {t('about.team.title')}
          </h2>
          <p className="text-base sm:text-lg text-gray-700 mb-12 max-w-3xl">
            {t('about.team.description')}
          </p>

          {/* Values Grid */}
          <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            {values.map((value) => {
              const isActive = activeCard === value.id;
              const IconComponent = iconComponents[value.id];
              
              return (
                <div
                  key={value.id}
                  onMouseEnter={() => setActiveCard(value.id)}
                  className="relative overflow-hidden cursor-pointer transition-colors duration-300 ease-out"
                  style={{
                    width: '100%',
                    maxWidth: '314px',
                    height: '418px',
                    padding: '32px',
                    background: isActive ? '#02352D' : '#FFFFFF',
                    contain: 'layout style paint',
                  }}
                >
                  {/* Title */}
                  <h3 
                    className="text-lg font-bold mb-3 transition-colors duration-300"
                    style={{ color: isActive ? '#FFFFFF' : '#02352D' }}
                  >
                    {t(value.titleKey)}
                  </h3>

                  {/* Description */}
                  <p 
                    className="text-sm leading-relaxed transition-colors duration-300"
                    style={{ color: isActive ? 'rgba(255,255,255,0.8)' : '#02352D' }}
                  >
                    {t(value.descriptionKey)}
                  </p>

                  {/* SVG Icon - Bottom Right */}
                  <div 
                    className="absolute bottom-4 right-4 w-[200px] h-[200px] transition-transform duration-500 ease-out will-change-transform"
                    style={{
                      transform: isActive ? `rotate(${value.rotateDeg}deg)` : 'rotate(0deg)',
                    }}
                  >
                    <IconComponent color={isActive ? '#FFFFFF' : '#02352D'} />
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </section>
  );
}


